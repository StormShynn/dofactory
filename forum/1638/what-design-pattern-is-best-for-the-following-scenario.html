<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from www.dofactory.com/forum/1638/what-design-pattern-is-best-for-the-following-scenario by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 13 Jan 2022 16:48:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>What design pattern is best for the following scenario? - Dofactory</title>
    <meta name="keywords">
    <meta name="description" content="Topic: What design pattern is best for the following scenario?">

    <link rel="icon" href="../../favicon.ico">
    <link rel="canonical" href="what-design-pattern-is-best-for-the-following-scenario.html" />


    
    

    
        <link rel="stylesheet" href="../../lib/bootstrap/css/bootstrap.min71fa.css?v=L_W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y" />
        <link rel="stylesheet" href="../../lib/bootstrap-datepicker/css/bootstrap-datepicker.min25e5.css?v=siyOpF_pBWUPgIcQi17TLBkjvNgNQArcmwJB8YvkAgg" />
        <link rel="stylesheet" href="../../lib/simple-line-icons/css/simple-line-icons.mined33.css?v=7O1DfUu4pybYI7uAATw34eDrgQaWGOfMV_8erfDQz_Q" />
        <link rel="stylesheet" href="../../lib/google-code-prettify/prettify198f.css?v=YYvcuFRWOPKudlOnW_y5kOvXw3dO1NYFXJxsfoabmAo" />
        <link rel="stylesheet" href="../../css/app.minfff2.css?v=ntsMfhGZgDkKn7AusG-6U_lSBWgBi92spRGVLOBwBpQ" />

    



</head>

<body>

    
  <header class='navbar navbar-expand-lg py-0 pl-0 do-navbar'
          style="height: 80px; background: #fff !important; box-shadow: rgba(103,190,200,.1) 0 4px 24px 0; border-bottom: 1px solid #d5e7eb; ">

    <div class="width-240">
      <a class="pl-27 pt-0 width-220 d-block" href="../../index.html">
        <img src="../../img/dofactorylogo.png" height="44" class="no-outline" />
      </a>
    </div>

    <button class="navbar-toggler" type="button" onclick="window.scrollTo(0, 0);" data-toggle="collapse" data-target="#small-content" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon pt-3"><i class="icon-menu font-24"></i></span>
    </button>

    <div class="collapse navbar-collapse " id="navbar-content" style="border-bottom: 0px solid #ddd;">
      <ul class="navbar-nav xml-auto">

        <li class="nav-item dropdown">
          <a class="nav-link ignore-click" href="javascript:void(0);" id="navbarProducts" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Products&nbsp;<i class="icon-arrow-down font-8"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-on-hover dropdown-menu-border" style="width:600px;" aria-labelledby="navbarProducts">
            <div class="d-flex p-10">

              <div class="width-270">
                <a class="dropdown-item py-7 pl-20 border-0 my-5" href="../../products/dofactory-net.html"><div class="d-flex flex-row width-200"><div class="pt-3"><img src="../../img/n.png" width="32" class="xpt-2" /></div><div class="pl-14 pt-1"><div class="font-16 font-weight-semibold">Dofactory .NET</div><div class="font-13">#1 .NET Success Platform</div></div></div></a>
                <a class="dropdown-item py-7 pl-20 border-0 my-5" href="../../products/dofactory-sql.html"><div class="d-flex flex-row width-200"><div class="pt-3"><img src="../../img/s.png" width="32" class="xpt-2" /></div><div class="pl-14 pt-1"><div class="font-16 font-weight-semibold">Dofactory SQL</div><div class="font-13">#1 SQL Success Platform</div></div></div></a>
                <a class="dropdown-item py-7 pl-20 border-0 my-5" href="../../products/dofactory-js.html"><div class="d-flex flex-row width-200"><div class="pt-3"><img src="../../img/j.png" width="32" class="xpt-2" /></div><div class="pl-14 pt-1"><div class="font-16 font-weight-semibold">Dofactory JS</div><div class="font-13">#1 JS Success Platform</div></div></div></a>
                <span class="d-block height-10"></span>

              </div>
              <div class="pl-20 width-270">
                <a class="dropdown-item py-7 pl-20 border-0 my-5" href="../../products/dofactory-bundle.html"><div class="d-flex flex-row width-200"><div class="pt-3"><img src="../../img/b.png" width="32" class="xpt-2" /></div><div class="pl-14 pt-1"><div class="font-16 font-weight-semibold">Dofactory Bundle</div><div class="font-13">The Complete Package</div></div></div></a>
                <div class="dropdown-divider "></div>
                <a class="dropdown-item pt-7 pb-15 pl-20 border-0 my-5" href="../../products.html"><div class="d-flex flex-row width-200"><div class="pt-3"><img src="../../img/all.png" width="40" class="xpt-2" /></div><div class="pl-10 pt-1"><div class="font-16 font-weight-semibold">All Products</div><div class="font-13">Product overview</div></div></div></a>
              </div>
            </div>
          </div>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link ignore-click" href="javascript:void(0);" id="navbarShowcases" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Demos&nbsp;<i class="icon-arrow-down font-8"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-on-hover dropdown-menu-on-hover dropdown-menu-border" aria-labelledby="navbarShowcases">
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../showcases/analytics.html">Analytics</a>
            <a class="dropdown-item" href="../../showcases/ecommerce.html">Ecommerce</a>
            <a class="dropdown-item" href="../../showcases/saas.html">SaaS</a>
            <a class="dropdown-item" href="../../showcases/crm.html">CRM</a>
            <a class="dropdown-item" href="../../showcases/app-factory.html">33-Day App Factory</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../../showcases.html">Overview</a>
            <span class="height-10 d-block"></span>
          </div>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link ignore-click" href="javascript:void(0);" id="navbarPricing" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Pricing&nbsp;<i class="icon-arrow-down font-8"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-on-hover dropdown-menu-on-hover dropdown-menu-border" aria-labelledby="navbarPricing">
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../pricing.html">Product Pricing</a>
            <a class="dropdown-item" href="../../pricing/bundle.html">Bundle Pricing</a>
            <div class="dropdown-divider "></div>
            <a class="dropdown-item" href="../../pricing/compare.html">Compare Editions</a>
            <span class="height-10 d-block"></span>
          </div>
        </li>

        <li class="nav-item dropdown">
          <a class="nav-link ignore-click" href="javascript:void(0);" id="navbarTutorials" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Tutorials&nbsp;<i class="icon-arrow-down font-8"></i>
          </a>
          <div class="dropdown-menu  dropdown-menu-on-hover dropdown-menu-border width-200" aria-labelledby="navbarTutorials">
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../sql.html">SQL Tutorial</a>
            <a class="dropdown-item" href="../../sql/reference.html">SQL Reference</a>
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../net/design-patterns.html">C# Design Patterns</a>
            <a class="dropdown-item" href="../../csharp-coding-standards.html">C# Coding Standards</a>
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../html.html">HTML Tutorial</a>
            <a class="dropdown-item" href="../../html/ref.html">HTML Reference</a>
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../css.html">CSS Tutorial</a>
            <a class="dropdown-item" href="../../css/ref.html">CSS Reference</a>
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../javascript.html">JavaScript Tutorial</a>
            <span class="height-10 d-block"></span>
            <a class="dropdown-item" href="../../connection-strings.html">Connection Strings</a>
            <a class="dropdown-item" href="../../visual-studio-shortcuts.html">Visual Studio Shortcuts</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../../tutorials.html">Overview</a>
          </div>
        </li>



        <li class="nav-item dropdown">
          <a class="nav-link ignore-click" href="javascript:void(0);" id="navbarAbout" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="span-underline">Company</span>&nbsp;<i class="icon-arrow-down font-8"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-on-hover dropdown-menu-border" aria-labelledby="navbarAbout">
            <a class="dropdown-item" href="../../about.html">About Us</a>
            <a class="dropdown-item" href="../../story.html">Our Story</a>
            <a class="dropdown-item" href="../../customers.html">Customers</a>
            <a class="dropdown-item" href="../../contact.html">Contact Us</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="../../faq.html">FAQs</a>
          </div>
        </li>

      </ul>



      <ul class="navbar-nav ml-auto">






        <li class="nav-item mr-15" style="color: #fff3f3;">
          <a class="nav-link" style="padding-top:22px !important; padding-bottom: 13px !important;" href="../../cart.html">
            <span class="position-relative">
              <img title="Cart" src="../../img/cart.png" style="width: 25px;" />
              <span title="Cart" class="position-absolute font-14 rounded-circle text-center" style='width:17px;top:-11px;left:6px;font-weight:normal;color:#555;font-weight:500; '>
                0
              </span>
            </span>
          </a>
        </li>


      </ul>
        <div>
          <a class="btn btn-outline-green width-80 mr-14" href="../../login.html">Login</a>
          <a class="btn btn-join " href="../../join.html">Create account</a>&nbsp;&nbsp;
        </div>

    </div>

  </header>
  <div class="collapse navbar-collapse hide" id="small-content">
    <ul class="navbar-nav mr-auto bg-dark font-13">
      <li class="nav-item"><a class="nav-link nav-link-small" href="../../products.html">Products</a></li>
      <li class="nav-item"><a class="nav-link nav-link-small" href="../../showcases.html">Showcases</a></li>
      <li class="nav-item"><a class="nav-link nav-link-small" href="../../pricing.html">Pricing</a></li>
      <li class="nav-item"><a class="nav-link nav-link-small" href="../../tutorials.html">Tutorials</a></li>
      <li class="nav-item"><a class="nav-link nav-link-small" href="../../about.html">Company</a></li>
        <li class="nav-item"><a class="nav-link nav-link-small" href="../../join.html">Join</a></li>
        <li class="nav-item"><a class="nav-link nav-link-small" href="../../login.html">Login</a></li>

    </ul>
  </div>


    <div class="container-fluid">
        
<div class="container pb-70">
    <div class="row pt-30">

        <div><i class="icon icon-arrow-left"></i> &nbsp;<a rel="nofollow" href="javascript:history.back();">Back to list</a></div>

        <table class="w-100 mt-30">
            <tr>
                <td class="align-top" style="width:120px !important;background:#f6f7f9;">

                    <div class="p-10"><span class="font-weight-semibold">Views:&nbsp;&nbsp; 18K</span></div>
                    <div class="pl-10 pt-0"><span class="font-weight-semibold">Replies:&nbsp; 3</span></div>
                    <div class="pl-10 pt-15"><span class="font-weight-semibold text-extra-muted">Archived</span></div>

                </td>
                <td class="pl-20 pt-3">

                    <div><h1 class="font-weight-semibold font-25" style="color:#345;">What design pattern is best for the following scenario?</h1></div>
                    <div class=""><div id="language_ot_42632" style="background-color: #fffaef; border: medium none; ">
<pre>I have 3 car rental agencies.  Each agency requires the data in XML, but in a different format, for example:


</pre></div><span style="font-weight: bold; text-decoration: underline underline; ">Agency 1</span><br />
<div id="language_ot_28230" style="color:black;background-color:#fffaef;border-right: medium none; border-top: medium none; border-left: medium none; border-bottom: medium none;">
<pre>&lt;Rental&gt;
    &lt;Customer&gt;
    &lt;FirstName&gt;test&lt;/FirstName&gt;
    &lt;LastName&gt;test&lt;/LastName&gt;
    &lt;/Customer&gt;
    &lt;Pickup date=<span style="color:#a31515;">&quot;07/20/2012&quot;</span>/&gt;
    &lt;Dropoff date=<span style="color:#a31515;">&quot;07/25/2012&quot;</span>/&gt;
    &lt;Deposit cost=<span style="color:#a31515;">&quot;100&quot;</span>/&gt;
&lt;/Rental&gt;
</pre></div><span style="text-decoration: underline; font-weight: bold; ">Agency 2</span><br />
<div id="language_ot_37884" style="color:black;background-color:#fffaef;border-right: medium none; border-top: medium none; border-left: medium none; border-bottom: medium none;">
<pre>&lt;Rental&gt;
    &lt;Customer&gt;
    &lt;FirstName&gt;test&lt;/FirstName&gt;
    &lt;LastName&gt;test&lt;/LastName&gt;
    &lt;/Customer&gt;
    &lt;Pickup&gt;07/20/2012&lt;/Pickup&gt;
    &lt;Dropoff&gt;07/25/2012&lt;/Dropoff&gt;
    &lt;Deposit&gt;100&lt;/Deposit&gt;
&lt;/Rental&gt;

<span style="font-weight: bold; text-decoration: underline underline; ">Agency 3
</span></pre></div><br />
<div id="language_ot_23791" style="color:black;background-color:#fffaef;border-right: medium none; border-top: medium none; border-left: medium none; border-bottom: medium none;">
<pre>&lt;Rental&gt;
    &lt;Customer&gt;
    &lt;FirstName&gt;test&lt;/FirstName&gt;
    &lt;LastName&gt;test&lt;/LastName&gt;
    &lt;/Customer&gt;
    &lt;Pickup&gt;07/20/2012&lt;/Pickup&gt;
    &lt;Dropoff&gt;07/25/2012&lt;/Dropoff&gt;
    &lt;Deposit&gt;100&lt;/Deposit&gt;
&lt;/Rental&gt;


</pre></div>As you can see from above, all 3 basically contain the same information, altough this doesn't have to be the case (some can contain more or less information), but it is structured different, so the way I access it is different. &nbsp;What is the best approach to take so I can write the most minimum code, but be able to adapt to new rental agencies that come along with a different structure?<br />
Right now, I am doing something like this:<br />
<br />
<br />
<br />
<div id="language_cs_61945" style="color:black;background-color:#fffaef;border-right: medium none; border-top: medium none; border-left: medium none; border-bottom: medium none;">
<pre><span style="color:blue;">public</span> <span style="color:blue;">class</span><span style="color:teal;"> Agency1
    </span>{
    SubmitRental()
    {
    <span style="color:green;">//Parse XML for Agency 1</span>
    }

    <span style="color:green;">//Other methods for agency 1</span>
    }

    <span style="color:blue;">public</span> <span style="color:blue;">class</span><span style="color:teal;"> Agency2
    </span>{
    SubmitRental()
    {
    <span style="color:green;">//Parse XML for Agency 2</span>
    }

     <span style="color:green;">//Other methods for agency 2</span>
    }

    <span style="color:blue;">public</span> <span style="color:blue;">class</span><span style="color:teal;"> Agency3
    </span>{
    SubmitRental()
    {
    <span style="color:green;">//Parse XML for Agency 3</span>
    }

    <span style="color:green;">//Other methods for agency 3</span>
    }
</pre></div><br />
In the above, the classes contain the same methods, but the way they are implemented is different. &nbsp;There are some methods, properties, etc that are in some classes, but not in others. &nbsp;Are interfaces the best way to approach this? &nbsp;If so, should everything be made an interface?<br />
In the XML samples above, the data was the same, but the format was different but what about the scenario where not only is the format different, but the data is different as well?<br />
For example:&nbsp;<br />
<br />
<span style="font-weight: bold; text-decoration: underline underline; ">Agency 4</span><br />
<div id="language_ot_59406" style="color:black;background-color:#fffaef;border-right: medium none; border-top: medium none; border-left: medium none; border-bottom: medium none;">
<pre>&lt;Rental start=<span style="color:#a31515;">&quot;07/20/12&quot;</span> end=<span style="color:#a31515;">&quot;07/25/12&quot;</span>&gt;
    &lt;Name&gt;John Doe&lt;/Name&gt;
    &lt;DriverLicenseNumber&gt;193048204820&lt;/DriverLicenseNumber&gt;
    &lt;DOB&gt;3/4/64&lt;/DOB&gt;
&lt;Rental&gt;
</pre></div><br />
&nbsp;</div>
                    <div class="text-right p-10">Xaisoft S, Jul 17, 2012</div>

                </td>
            </tr>
        </table>


        <table class="w-100 mt-30">
            <tr>
                <td class="align-top" style="width:120px !important;background:#f6f7f9;">

                    <div class="p-10"><span class="font-weight-semibold"></span></div>
                    <div class="pl-10 pt-0"><span class="font-weight-semibold"></span></div>

                </td>

                <td class="pl-20 pt-3">

                    <div><h5 class="font-19 font-weight-semibold py-5">Reply&nbsp;1</h5></div>


                    <div class="">My Understanding -there are three supplier with whom we have to xml interfacing to perform some operations. such as car rental website does same thing with different car suppliers for book/cancel/availability etc...<br />
<br />
Factory Method design pattern&nbsp; to create instance of supplier <br />
Facade can also be used.<br />
<br />
Thanks,<br />
Dharmesh<br /></div>
                    <div class="text-right p-10">Dharmesh Parekh, Nov 20, 2016</div>

                </td>
            </tr>
        </table>
        <table class="w-100 mt-30">
            <tr>
                <td class="align-top" style="width:120px !important;background:#f6f7f9;">

                    <div class="p-10"><span class="font-weight-semibold"></span></div>
                    <div class="pl-10 pt-0"><span class="font-weight-semibold"></span></div>

                </td>

                <td class="pl-20 pt-3">

                    <div><h5 class="font-19 font-weight-semibold py-5">Reply&nbsp;2</h5></div>


                    <div class="">How about the Strategy and Factory patterns.<br />
<br />
See example, below. I left out error checking for clarity.<br />
<br />
How you want to pass around the derived classes (Agency1, Agency2, ... the data)&nbsp;is up to you. I find this way to be the easiest, but will vary depending on your app.<br />
<br />
You could also add a property to set the behavior and pass in the required data in some other fashion.<br />
<br />
I think you'll get the idea, though.<br />
<br />
And, of course, the &quot;swtich&quot; statement&nbsp;in the main controller is not ideal. That too could be put into a factory.<br />
<br />
I just wanted to illustrate and suggest the Strategy pattern&nbsp;without writing an entire app.<br />
<br />
Hope this helps,<br />
<br />
Mike<br />
<br />
<div id="language_cs_26976" style="border: currentcolor; color: black; background-color: #fffaef;">
<pre><span style="color: blue;">using</span> System;

<span style="color: blue;">namespace</span> MyCompany.Agency
{
    <span style="color: blue;">interface</span><span style="color: teal;"> IAgencyBehavior
    </span>{
        <span style="color: blue;">int</span> GetNumberOfCarsAvailable();
        <span style="color: blue;">void</span> SubmitRental();
    }

    <span style="color: blue;">public</span> <span style="color: blue;">abstract</span> <span style="color: blue;">class</span><span style="color: teal;"> Agency
    </span>{
        <span style="color: blue;">public</span> <span style="color: blue;">string</span> AgencyName { <span style="color: blue;">get</span>; <span style="color: blue;">set</span>;}
        <span style="color: blue;">public</span> <span style="color: blue;">string</span> FirstName { <span style="color: blue;">get</span>; <span style="color: blue;">set</span>; }
        <span style="color: blue;">public</span> <span style="color: blue;">string</span> LastName { <span style="color: blue;">get</span>; <span style="color: blue;">set</span>; }
        <span style="color: green;">// all other properties common to all agencies</span>
    }

    <span style="color: green;">// A specialized agency:</span>
    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> Agency1 : Agency
    </span>{ 
        <span style="color: blue;">public</span> Agency1() 
        {
            AgencyName = <span style="color: #a31515;">&quot;Agency1&quot;</span>;
        }
        <span style="color: blue;">public</span> DateTime DOB {<span style="color: blue;">get</span>; <span style="color: blue;">set</span>;} 
    }

    <span style="color: green;">// A specialized agency:</span>
    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> Agency2 : Agency
    </span>{
        <span style="color: blue;">public</span> Agency2() 
        {
            AgencyName = <span style="color: #a31515;">&quot;Agency2&quot;</span>;
        }
        <span style="color: blue;">public</span> <span style="color: blue;">string</span> LicenseNumber { <span style="color: blue;">get</span>; <span style="color: blue;">set</span>; }
    }

    <span style="color: green;">// Main controller:</span>
    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> AgencyMainController : IAgencyBehavior
    </span>{
        <span style="color: blue;">private</span> IAgencyBehavior _behavior;

        <span style="color: blue;">public</span> AgencyMainController(Agency agency)
        {
            NewBehavior(agency);
        }

        <span style="color: blue;">public</span> <span style="color: blue;">void</span> NewBehavior(Agency agency)
        {
            <span style="color: blue;">switch</span> (agency.AgencyName.ToLower())
            {
                <span style="color: blue;">case</span> <span style="color: #a31515;">&quot;agency1&quot;</span>:
                    _behavior = <span style="color: blue;">new</span> Agency1Behavior((Agency1)agency);
                    <span style="color: blue;">break</span>;

                <span style="color: blue;">case</span> <span style="color: #a31515;">&quot;agency2&quot;</span>:
                    _behavior = <span style="color: blue;">new</span> Agency2Behavior((Agency2)agency);
                    <span style="color: blue;">break</span>;

                <span style="color: blue;">default</span>:
                    <span style="color: green;">// Maybe throw an exception here</span>
                    <span style="color: blue;">break</span>;
            }
        }
        <span style="color: blue;">public</span> <span style="color: blue;">int</span> GetNumberOfCarsAvailable()
        {
            <span style="color: blue;">if</span> (_behavior == <span style="color: blue;">null</span>) <span style="color: blue;">throw</span> <span style="color: blue;">new</span> ArgumentException(<span style="color: #a31515;">&quot;Behavior has not yet been set&quot;</span>);
            <span style="color: blue;">return</span> _behavior.GetNumberOfCarsAvailable();
        }

        <span style="color: blue;">public</span> <span style="color: blue;">void</span> SubmitRental()
        {
            <span style="color: blue;">if</span> (_behavior == <span style="color: blue;">null</span>) <span style="color: blue;">throw</span> <span style="color: blue;">new</span> ArgumentException(<span style="color: #a31515;">&quot;Behavior has not yet been set&quot;</span>);
            _behavior.SubmitRental();
        }
    }

    <span style="color: green;">// Specialized controllers:</span>
    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> Agency1Behavior : IAgencyBehavior
    </span>{
        <span style="color: blue;">private</span> Agency1 _agency;
        <span style="color: blue;">public</span> Agency1Behavior(Agency1 agency)
        {
            _agency = agency;
        }
        <span style="color: blue;">public</span> <span style="color: blue;">int</span> GetNumberOfCarsAvailable()
        {
            <span style="color: blue;">return</span> 1;
        }

        <span style="color: blue;">public</span> <span style="color: blue;">void</span> SubmitRental()
        {
            <span style="color: green;">// Code here to submit Agency1's XML </span>
            Console.WriteLine(<span style="color: #a31515;">&quot;&lt;Rental AgencyName=\&quot;</span>Agency1\<span style="color: #a31515;">&quot;&gt;&lt;Name&gt;&quot;</span> + _agency.FirstName + <span style="color: #a31515;">&quot; &quot;</span> + _agency.LastName + <span style="color: #a31515;">&quot;&gt;&lt;DOB&gt;&quot;</span> + _agency.DOB.ToString(<span style="color: #a31515;">&quot;MM/dd/yy&quot;</span>) + <span style="color: #a31515;">&quot;&lt;/DOB&gt;&lt;/Rental&gt;&quot;</span>);
        }
    }

    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> Agency2Behavior : IAgencyBehavior
    </span>{
        <span style="color: blue;">private</span> Agency2 _agency;

        <span style="color: blue;">public</span> Agency2Behavior(Agency2 agency)
        {
            _agency = agency;
        }

        <span style="color: blue;">public</span> <span style="color: blue;">int</span> GetNumberOfCarsAvailable()
        {
            <span style="color: blue;">return</span> 2;
        }

        <span style="color: blue;">public</span> <span style="color: blue;">void</span> SubmitRental()
        {
            <span style="color: green;">// Code here to submit Agency2's XML </span>
            Console.WriteLine(<span style="color: #a31515;">&quot;&lt;Rental AgencyName=\&quot;</span>Agency2\<span style="color: #a31515;">&quot;&gt;&lt;Name&gt;&quot;</span> + _agency.FirstName + <span style="color: #a31515;">&quot; &quot;</span> + _agency.LastName + <span style="color: #a31515;">&quot;&lt;LicenseNumber&gt;&quot;</span> + _agency.LicenseNumber + <span style="color: #a31515;">&quot;&lt;/LicenseNumber&gt;&lt;/Rental&gt;&quot;</span>);
        }
    }


    <span style="color: green;">// Example client code:</span>
    <span style="color: blue;">public</span> <span style="color: blue;">class</span><span style="color: teal;"> MyApp
    </span>{
        <span style="color: blue;">public</span> <span style="color: blue;">static</span> <span style="color: blue;">void</span> Main(<span style="color: blue;">string</span>[] args) 
        {
            <span style="color: green;">// Somehow, somewhere you retrieved information and determined it's Agency2 and constructed an Agency2 object (perhaps through a factory):</span>
            Agency2 agency2Object = <span style="color: blue;">new</span> Agency2() {LicenseNumber=<span style="color: #a31515;">&quot;ABC123&quot;</span>, FirstName=<span style="color: #a31515;">&quot;John&quot;</span>, LastName=<span style="color: #a31515;">&quot;Doe&quot;</span>};

            AgencyMainController controller = <span style="color: blue;">new</span> AgencyMainController(agency2Object);
            controller.SubmitRental();
            Console.WriteLine(controller.GetNumberOfCarsAvailable().ToString());

            <span style="color: green;">// Agency1:</span>
            Agency1 agency1Object = <span style="color: blue;">new</span> Agency1() { DOB = DateTime.Now.AddYears(-20) , FirstName = <span style="color: #a31515;">&quot;Jane&quot;</span>, LastName = <span style="color: #a31515;">&quot;Doe&quot;</span> };
            controller.NewBehavior(agency1Object);
            controller.SubmitRental();
            Console.WriteLine(controller.GetNumberOfCarsAvailable().ToString());
            Console.ReadKey();

        }
    }
}
</pre></div><br />
&nbsp;</div>
                    <div class="text-right p-10">Michael Lopez, Jul 20, 2012</div>

                </td>
            </tr>
        </table>
        <table class="w-100 mt-30">
            <tr>
                <td class="align-top" style="width:120px !important;background:#f6f7f9;">

                    <div class="p-10"><span class="font-weight-semibold"></span></div>
                    <div class="pl-10 pt-0"><span class="font-weight-semibold"></span></div>

                </td>

                <td class="pl-20 pt-3">

                    <div><h5 class="font-19 font-weight-semibold py-5">Reply&nbsp;3</h5></div>


                    <div class="">Just sharing my thoughts here, may need to fine tune - as I have not tried this solution yet (may be I can get back)<br />
<br />
Two key aspects here: <br />
1) If you are going to process all of your Agency's XMLs&nbsp;(whatever may their format) into a common format - Adapter Pattern.<br />
2) If you want to have classes or entities into your system, to represent each Agency XML , then you would need - Factory Pattern<br />
<br />
For case 1 , you can read an agency XML&nbsp;into an XML object and then &quot;adapt&quot; its contents to your target class - Say Agency Mapper<br />
Whenever a new schema comes&nbsp;into scope, you need to adapt it&nbsp;to the AgencyMapper class.&nbsp;<br />
<br />
For case 2: <br />
<br />
You have build Factory pattern, that each Agency XML becomes a concrete product. I hope you would not need another layer of abstraction here. In this case whenever a new (type of) Agency comes in you may need to add a new COncrete class. I think IOC containers will help here to avoid adding code into the system.<br />
<br />
<br />
Quick steps:<br />
<br />
1) Have multiple Schema files each representing an Agency XML, (saved to your working directory) like Agency1.XSD..etc.,<br />
2) When you start processing, your system should read an Agency XML file and try validating it against the existing schemas.<br />
3) when it matches with one of the Schemas , your code should assign a type (enum?) like Agency1 or AgencyTwo etc.,<br />
4) Pass the type Factory class that it creates the corresponding Agency Class<br />
5) Have a mapper method in each class that it reads XML and initializes corresponding&nbsp;members ( I maintain the class name and XML attribute name to be the same, that I can use reflection to loop through and assign at runtime)<br />
6) then call Submit rental()<br />
<br />
To answer Abstract Factory or interface, if you want to enforce things against unrelated entities - interface<br />
To enfore and enable versioning across related entities - abstract classes<br />
<br />
Thanks and Regards<br />
<a href="http://techie-star.blogspot.com/" target="_self">Tarriq</a></div>
                    <div class="text-right p-10">Tarriq Ferrose Khan, Jul 19, 2012</div>

                </td>
            </tr>
        </table>

    </div>
</div>
<br />
<br />








    </div>

    
  <div class="box-shadow" style="border-top:1px solid #e2ecee;">
    <div class="container">
      <div class="row" style="padding:60px 0 10px 0;">

        <div class="col-md-3 mb-2">
          <div class="pl-20 pb-15"><img src="../../img/dofactorylogo.png" height="30" /></div>
          <ul class="footer-list">
            <li class="footer-item"><a class="footer-link" href="../../about.html">About Us</a></li>
            <li class="footer-item"><a class="footer-link" href="../../story.html">Our Story</a></li>
            <li class="footer-item"><a class="footer-link" href="../../customers.html">Customers</a></li>
            <li class="footer-item"><a class="footer-link" href="../../contact.html">Contact Us</a></li>
            <li class="footer-item"><a class="footer-link" href="../../faq.html">FAQs</a></li>
            <li class="footer-item pb-4"><a class="footer-link" href="../../forum.html">Forum</a></li>
            <li class="footer-item pb-4"><a class="footer-link" href="../explore.html">Explore Forum</a></li>
            <li class="footer-item"><a class="footer-link" href="../../login.html">Login</a> &nbsp; <a class="footer-link" href="../../join.html">Join</a></li>
          </ul>
        </div>

        <div class="col-md-3 mb-2">

          <div class="pl-20 font-weight-bold font-18 merriweather pb-10 pt-3 text-muted ">Products</div>
          <ul class="footer-list">
            <li class="footer-item"><a class="footer-link" href="../../products.html">Overview</a></li>
            <li class="footer-item"><a class="footer-link" href="../../products/dofactory-net.html">Dofactory .NET</a></li>
            <li class="footer-item"><a class="footer-link" href="../../products/dofactory-sql.html">Dofactory SQL</a></li>
            <li class="footer-item"><a class="footer-link" href="../../products/dofactory-js.html">Dofactory JS</a></li>
            <li class="footer-item"><a class="footer-link" href="../../products/dofactory-bundle.html">Dofactory Bundle</a></li>
          </ul>
          <div class="pl-20 font-weight-bold font-18 merriweather pb-10 pt-8 text-muted">Pricing</div>
          <ul class="footer-list">
            <li class="footer-item"><a class="footer-link" href="../../pricing.html">Product Pricing</a></li>
            <li class="footer-item"><a class="footer-link" href="../../pricing/bundle.html">Bundle Pricing</a></li>
            <li class="footer-item"><a class="footer-link" href="../../pricing/compare.html">Compare Editions</a></li>
          </ul>
        </div>

        <div class="col-md-3 mb-2">
          <div class="pl-20 font-weight-bold font-18 merriweather pb-10 pt-3 text-muted">Demos</div>
          <ul class="footer-list">
            <li class="footer-item"><a class="footer-link" href="../../showcases.html">Overview</a></li>
            <li class="footer-item"><a class="footer-link" href="../../showcases/analytics.html">Analytics App</a></li>
            <li class="footer-item"><a class="footer-link" href="../../showcases/ecommerce.html">Ecommerce App</a></li>
            <li class="footer-item"><a class="footer-link" href="../../showcases/saas.html">SaaS App</a></li>
            <li class="footer-item"><a class="footer-link" href="../../showcases/crm.html">CRM App</a></li>
            <li class="footer-item"><a class="footer-link" href="../../showcases/app-factory.html">33-Day App Factory&trade;</a></li>
          </ul>

        </div>

        <div class="col-md-3 mb-2 ">
          <div class="pl-20 font-weight-bold font-18 merriweather pb-10 pt-3 text-muted">Tutorials</div>
          <ul class="footer-list">
            <li class="footer-item"><a class="footer-link" href="../../tutorials.html">Overview</a></li>
            <li class="footer-item"><a class="footer-link" href="../../sql.html">SQL Tutorial</a></li>
            <li class="footer-item"><a class="footer-link" href="../../sql/reference.html">SQL Reference</a></li>
            <li class="footer-item"><a class="footer-link" href="../../html.html">HTML Tutorial</a></li>
            <li class="footer-item"><a class="footer-link" href="../../html/ref.html">HTML Reference</a></li>
            <li class="footer-item"><a class="footer-link" href="../../net/design-patterns.html">.NET Design Patterns</a></li>
            <li class="footer-item"><a class="footer-link" href="../../csharp-coding-standards.html">C# Coding Standards</a></li>
            <li class="footer-item"><a class="footer-link" href="../../javascript.html">JavaScript Tutorial</a></li>
            <li class="footer-item"><a class="footer-link" href="../../connection-strings.html">Connection Strings</a></li>
            <li class="footer-item"><a class="footer-link" href="../../visual-studio-shortcuts.html">Visual Studio Shortcuts</a></li>
          </ul>
        </div>

      </div>

      <div class="row mx-10" style="border-bottom:1px solid #ddd;height:1px;">
      </div>

      <div class="row py-10">
        <div class="col pl-35">
          <div class="font-weight-bold font-18 merriweather text-muted">Stay Inspired!</div>
        </div>
      </div>

      <div class="row pt-3 pb-10">
        <div class="col-12 col-md-6 xcol-md-5 pl-35">
          Join other developers and designers who have
          already signed up for our mailing list.
        </div>
        <div class="col-12 col-md-4 xcol-md-4 pl-35">

          
<form method="post" action="https://www.dofactory.com/emaillist">
    <div class="input-group mb-3 pt-1">
        <input type="text" class="form-control" placeholder="Your email..." aria-label="your-email" aria-describedby="your-email" style="max-width:260px;" data-val="true" data-val-email="Invalid email address" data-val-required="Email is required." id="YourEmail" name="YourEmail" value="">
        <div class="input-group-append">
            <button type="submit" class="btn btn-green" style="height:37px;">
                <i class="icon-arrow-right" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    <span class="field-validation-valid" data-valmsg-for="YourEmail" data-valmsg-replace="true"></span>
<input name="__RequestVerificationToken" type="hidden" value="CfDJ8H5lvYk5XR9AjCnPSed7EqsXQQpKbGw5d5H94B6IImAZ4y8KMej80fiemOZtKFBoc2JW8Dz1E3PqbCrEdF0uRnor6ZF6BKkOXRQ-1ARyuTMV0CYfKotH_WdTDGUOsgEIfYPE9xpGb4ptUNBRct3XwLY" /></form>



        </div>

      </div>



      <div class="row mx-10 mt-10" style="border-bottom:1px solid #ddd;height:1px;">
      </div>

      <div class="d-flex flex-lg-row flex-column p-20 mb-15 font-14">
        <div class="pb-1 ">
          <a href="../../terms.html" class="text-muted">Terms</a>&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="../../privacy.html" class="text-muted">Privacy</a>&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="../../licensing.html" class="text-muted">Licensing</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="../../eula.html" class="text-muted">EULA</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <a href="../../sitemap.html" class="text-muted">Sitemap</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </div>
        <div class="pb-1">
          &copy; Data &amp; Object Factory, LLC. 
        </div>
        <div class="pb-1 ml-lg-auto">
          Made with &nbsp;<img src="../../img/heart.png" style="width:14px;" />&nbsp; in Austin, Texas. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vsn 1.3.0
        </div>
      </div>
    </div>

  </div>




    


    <a id="scrollUp" href="#" class="scroll-up rounded-circle text-center pt-7"><i class="icon-arrow-up font-13"></i></a>

    
    

    
        <script src="../../lib/jquery/jquery.min24d6.js?v=CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo"></script>
        <script src="../../lib/jquery-validation/jquery.validate.min5ad2.js?v=sPB0F50YUDK0otDnsfNHawYmA5M0pjjUf4TvRJkGFrI"></script>
        <script src="../../lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.minbd79.js?v=9GycpJnliUjJDVDqP0UEu_bsm9U-3dnQUH8-3W10vkY"></script>
        <script src="../../lib/google-code-prettify/prettify110e.js?v=4uV247xgfNF5_1EZRwEPZF00QaNTE67A29BsRDf4O3c"></script>
        <script src="../../lib/bootstrap/js/bootstrap.bundle.min72cb.js?v=OUFW7hFO0_r5aEGTQOz9F_aXQOt-TwqI1Z4fbVvww04"></script>
        <script src="../../lib/bootstrap-datepicker/js/bootstrap-datepicker.min972b.js?v=bqVeqGdJ7h_lYPq6xrPv_YGzMEb6dNxlfiTUHSgRCp8"></script>
        <script src="../../lib/typeahead.js/typeahead.jquery.min7d44.js?v=nORlj0J8ZjvGz-6rtHb2Jcc0QDASsDUNOwUkfcwoW8A"></script>
        <script src="../../js/app.min60ec.js?v=x5540RYyDTxVNeURuenBBX2YdX1eoyLnOywDrRGQptM"></script>
    



    
    <script type="text/javascript">
        $(function () {

            Dofactory.Utils.ScrollToTarget.start();

        });
    </script>


    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1223200-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-1223200-3');
    </script>
    <!-- clarity.microsoft.com -->
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "3wdmv0ztvm");
    </script>



</body>

<!-- Mirrored from www.dofactory.com/forum/1638/what-design-pattern-is-best-for-the-following-scenario by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 13 Jan 2022 16:48:09 GMT -->
</html>
